<article class="card">
  <div class="body">
    <div class="role-line">
      <h3 class="role">{{ exp.role }}</h3>
      @if (exp.contractType) {
        <span class="contract">{{ exp.contractType }}</span>
      }
    </div>

    <div class="meta">{{ exp.company }} — {{ exp.location }}</div>

    @if (exp.description) {
      <p class="desc" [class.compact]="mode==='compact'">
        {{ exp.description }}
      </p>
    }

    @if (exp.stack?.length) {
      <div class="stack">
        @for (t of (mode==='compact' ? exp.stack!.slice(0,3) : exp.stack!); track t) {
          <span class="tag">{{ t }}</span>
        }
        @if (mode==='compact' && exp.stack!.length > 3) {
          <span class="tag more">+{{ exp.stack!.length - 3 }}</span>
        }
      </div>
    }
  </div>

  <div class="dates">
    <div class="end">{{ exp.end ? (exp.end | date:'LLL yyyy') : 'Présent' }}</div>
    <div class="duration-line"></div>
    <div class="start">{{ exp.start | date:'LLL yyyy' }}</div>
  </div>
</article>
