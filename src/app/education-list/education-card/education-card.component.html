<article class="card" [class.compact]="mode==='compact'">
  <div class="body">
    <div class="role-line">
      <h3 class="role">{{ education.degree }}</h3>
      @if (education.level) {
        <span class="contract">{{ education.level }}</span>
      }
    </div>

    <div class="meta">{{ education.school }} — {{ education.location }}</div>

    @if (education.description) {
      <p class="desc" [class.compact]="mode==='compact'">
        {{ education.description }}
      </p>
    }

    @if (education.subjects?.length) {
      <div class="stack">
        @for (t of (mode==='compact' ? education.subjects!.slice(0,3) : education.subjects!); track t) {
          <span class="tag">{{ t }}</span>
        }
        @if (mode==='compact' && education.subjects!.length > 3) {
          <span class="tag more">+{{ education.subjects!.length - 3 }}</span>
        }
      </div>
    }
  </div>

  <div class="dates">
    <div class="end">{{ education.end ? (education.end | date:'LLL yyyy') : 'Présent' }}</div>
    <div class="duration-line"></div>
    <div class="start">{{ education.start | date:'LLL yyyy' }}</div>
  </div>
</article>
