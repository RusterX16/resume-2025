.card{
  --dates-w:128px; --tl-w:16px; --line-w:2px; --dates-gap:4px;

  display:grid; grid-template-columns:1fr var(--dates-w); gap:16px; align-items:stretch;
  background:#fff; border:1px solid #d1d5db; box-shadow:0 2px 8px rgba(15,23,42,.06),0 1px 2px rgba(0,0,0,.04);
  border-radius:8px; padding:12px; margin:8px;   /* dans .resume on neutralise la marge (voir bloc 6) */

  .body{ min-width:0; display:grid; gap:4px; }

  .role-line{ display:flex; align-items:center; gap:8px;
    .role{ margin:0; font-size:.85rem; font-weight:700; color:#111827; overflow-wrap:anywhere; }
    .contract{ font-size:.65rem; color:#475569; background:#f3f4f6; border:1px solid #e5e7eb; border-radius:8px; padding:2px 8px; white-space:nowrap; }
  }

  .meta{ font-size:.72rem; color:#6b7280; font-weight:500; padding:0; background:transparent; border:0; border-radius:0; .sep{ opacity:.55; } }

  .loc{ display:inline-flex; align-items:center; gap:4px; color:#6b7280; font-weight:600; white-space:nowrap; }
  .loc::before{ content:"üìç"; line-height:1; }

  .desc{ color:#374151; font-size:.78rem; line-height:1.3; }
  &.compact .desc, .desc.compact{ display:-webkit-box; -webkit-line-clamp:3; line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }

  .stack{ display:flex; flex-wrap:wrap; gap:8px;
    .tag{ display:inline-block; font-size:.62rem; line-height:1; padding:4px 8px; border-radius:8px;
          background:#eff6ff; border:1px solid #dbeafe; color:#1d4ed8; white-space:nowrap; }
    .tag.more{ background:#f3f4f6; border-color:#e5e7eb; color:#475569; }
  }

  .dates{
    display:grid; grid-template-columns:1fr var(--tl-w); grid-template-rows:min-content 1fr min-content;
    align-items:center; column-gap:var(--dates-gap); font-weight:600; font-size:.70rem; color:#374151; position:relative;

    .end,.start{ grid-column:1; text-align:right; justify-self:end; align-self:center; white-space:nowrap; }
    .end{ grid-row:1; } .start{ grid-row:3; }
    .duration{ grid-column:1; grid-row:2; align-self:center; justify-self:end; font-size:.65rem; font-weight:500; color:#6b7280; white-space:nowrap; }

    .duration-line{ grid-column:2; grid-row:1/-1; align-self:stretch; justify-self:center; width:var(--line-w);
      background:linear-gradient(to bottom,#d1d5db,#e5e7eb); border-radius:2px; position:relative; }
    .duration-line::before, .duration-line::after{
      content:""; position:absolute; left:50%; transform:translateX(-50%); width:8px; height:8px; border-radius:50%;
      background:#94a3b8;              /* adouci */
      border:2px solid #fff; box-shadow:0 1px 2px rgba(0,0,0,.12);
    }
    .duration-line::before{ top:0; } .duration-line::after{ bottom:0; }
  }

  &.compact{
    --dates-w:96px; --tl-w:16px; --line-w:2px;
    gap:8px; padding:8px 16px;
    .role-line{ gap:8px; } .role-line .role{ font-size:.78rem; } .role-line .contract{ font-size:.60rem; padding:2px 8px; border-radius:8px; }
    .meta{ font-size:.68rem; }
    .desc{ font-size:.70rem; }
    .stack{ gap:8px; } .stack .tag{ font-size:.58rem; padding:4px 8px; }
    .dates{ font-size:.65rem; .duration{ font-size:.62rem; } }
  }
}
